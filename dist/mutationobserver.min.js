// MutationObserver-Shim v0.2.7 (github.com/megawac/MutationObserver.js)
// Authors: Graeme Yeates (github.com/megawac) 
this.MutationObserver=this.MutationObserver||this.WebKitMutationObserver||function(v){function m(b){var a=this;a.g=[];a.k=function(){var c=a.takeRecords();c.length&&b.call(a,c,a);a.f=setTimeout(a.k,m._period)}}function r(b){var a={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null},c;for(c in b)a[c]!==v&&b[c]!==v&&(a[c]=b[c]);return a}function E(b,a){var c=A(b,a);return function(d){var f=d.length;a.a&&
c.a&&y(d,b,c.a,a.d);(a.c||a.e)&&F(d,b,c,a);d.length!==f&&(c=A(b,a))}}function y(b,a,c,d){for(var f={},u=a.attributes,w,h,n=u.length;n--;)w=u[n],h=w.name,d&&d[h]===v||(w.value!==c[h]&&b.push(r({type:"attributes",target:a,attributeName:h,oldValue:c[h],attributeNamespace:w.namespaceURI})),f[h]=!0);for(h in c)f[h]||b.push(r({target:a,type:"attributes",attributeName:h,oldValue:c[h]}))}function F(b,a,c,d){function f(a,c,n,p,f){var m=a.length-1;f=-~((m-f)/2);for(var g,k,e;e=a.pop();)g=n[e.h],k=p[e.i],d.c&&
f&&Math.abs(e.h-e.i)>=m&&(b.push(r({type:"childList",target:c,addedNodes:[g],removedNodes:[g],nextSibling:g.nextSibling,previousSibling:g.previousSibling})),f--),d.a&&k.a&&y(b,g,k.a,d.d),d.b&&3===g.nodeType&&g.nodeValue!==k.b&&b.push(r({type:"characterData",target:g,oldValue:k.b})),d.e&&u(g,k)}function u(a,c){for(var n=a.childNodes,p=c.c,m=n.length,v=p?p.length:0,g,k,e,l,s,x=0,t=0,q=0;t<m||q<v;)l=n[t],s=(e=p[q])&&e.j,l===s?(d.a&&e.a&&y(b,l,e.a,d.d),d.b&&3===l.nodeType&&l.nodeValue!==e.b&&b.push(r({type:"characterData",
target:l,oldValue:e.b})),k&&f(k,a,n,p,x),d.e&&(l.childNodes.length||e.c&&e.c.length)&&u(l,e),t++,q++):(g||(g={},k=[]),l&&(g[e=B(l)]||(g[e]=!0,-1===(e=z(p,l,q,"j"))?d.c&&(b.push(r({type:"childList",target:a,addedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),x++):k.push({h:t,i:e})),t++),s&&s!==n[t]&&(g[e=B(s)]||(g[e]=!0,-1===(e=z(n,s,t))?d.c&&(b.push(r({type:"childList",target:c.j,removedNodes:[s],nextSibling:p[q+1],previousSibling:p[q-1]})),x--):k.push({h:e,i:q})),q++));
k&&f(k,a,n,p,x)}u(a,c)}function A(b,a){var c=!0;return function f(b){var m=3===b.nodeType,h={j:b};m||8===b.nodeType?m&&a.b&&(h.b=b.nodeValue):(a.a&&c&&(h.a=C(b.attributes,function(b,c){if(!a.d||a.d[c.name])b[c.name]=c.value;return b})),c&&(a.c||a.b||a.a&&a.e)&&(h.c=G(b.childNodes,f)),c=a.e);return h}(b)}function B(b){try{return b.id||(b.mo_id=b.mo_id||D++)}catch(a){try{return b.nodeValue}catch(c){return D++}}}function G(b,a){for(var c=[],d=0;d<b.length;d++)c[d]=a(b[d],d,b);return c}function C(b,a){for(var c=
{},d=0;d<b.length;d++)c=a(c,b[d],d,b);return c}function z(b,a,c,d){for(;c<b.length;c++)if((d?b[c][d]:b[c])===a)return c;return-1}m._period=30;m.prototype={observe:function(b,a){var c={a:!!(a.attributes||a.attributeFilter||a.attributeOldValue),c:!!a.childList,e:!!a.subtree,b:!(!a.characterData&&!a.characterDataOldValue)},d=this.g,f=z(d,b,0,"m");0<=f&&d.splice(f,1);a.attributeFilter&&(c.d=C(a.attributeFilter,function(a,b){a[b]=!0;return a}));d.push({m:b,l:E(b,c)});this.f||this.k()},takeRecords:function(){for(var b=
[],a=this.g,c=0;c<a.length;c++)a[c].l(b);return b},disconnect:function(){this.g=[];clearTimeout(this.f);this.f=null}};var D=1;return m}();
